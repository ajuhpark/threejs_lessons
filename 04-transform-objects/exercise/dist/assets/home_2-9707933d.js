import{D as Ge,H as j,F as X,f as U,g as Le,h as se,G as Se,a as Te,T as fe,S as ce,N as J,b as Be,i as Ae,d as Fe,M as u,j as le,k as Ie,l as ke,m as ze,n as de,o as De,A as He,p as Pe,q as ve,r as pe,s as Ce,t as Ne,u as je,v as Ue,w as Ve,x as We,y as Oe,E as qe,P as Ye,O as $e,W as Xe,L as Je,C as Ke}from"./lil-gui.esm-cfbae8ee.js";class Qe extends Ge{constructor(R){super(R),this.type=j}parse(R){const d=function(e,o){switch(e){case 1:throw new Error("THREE.RGBELoader: Read Error: "+(o||""));case 2:throw new Error("THREE.RGBELoader: Write Error: "+(o||""));case 3:throw new Error("THREE.RGBELoader: Bad File Format: "+(o||""));default:case 4:throw new Error("THREE.RGBELoader: Memory Error: "+(o||""))}},ue=`
`,oe=function(e,o,a){o=o||1024;let c=e.pos,s=-1,t=0,l="",n=String.fromCharCode.apply(null,new Uint16Array(e.subarray(c,c+128)));for(;0>(s=n.indexOf(ue))&&t<o&&c<e.byteLength;)l+=n,t+=n.length,c+=128,n+=String.fromCharCode.apply(null,new Uint16Array(e.subarray(c,c+128)));return-1<s?(a!==!1&&(e.pos+=t+s+1),l+n.slice(0,s)):!1},xe=function(e){const o=/^#\?(\S+)/,a=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,i=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,c=/^\s*FORMAT=(\S+)\s*$/,s=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,t={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let l,n;for((e.pos>=e.byteLength||!(l=oe(e)))&&d(1,"no header found"),(n=l.match(o))||d(3,"bad initial token"),t.valid|=1,t.programtype=n[1],t.string+=l+`
`;l=oe(e),l!==!1;){if(t.string+=l+`
`,l.charAt(0)==="#"){t.comments+=l+`
`;continue}if((n=l.match(a))&&(t.gamma=parseFloat(n[1])),(n=l.match(i))&&(t.exposure=parseFloat(n[1])),(n=l.match(c))&&(t.valid|=2,t.format=n[1]),(n=l.match(s))&&(t.valid|=4,t.height=parseInt(n[1],10),t.width=parseInt(n[2],10)),t.valid&2&&t.valid&4)break}return t.valid&2||d(3,"missing format specifier"),t.valid&4||d(3,"missing image size specifier"),t},Ee=function(e,o,a){const i=o;if(i<8||i>32767||e[0]!==2||e[1]!==2||e[2]&128)return new Uint8Array(e);i!==(e[2]<<8|e[3])&&d(3,"wrong scanline width");const c=new Uint8Array(4*o*a);c.length||d(4,"unable to allocate buffer space");let s=0,t=0;const l=4*i,n=new Uint8Array(4),S=new Uint8Array(l);let re=a;for(;re>0&&t<e.byteLength;){t+4>e.byteLength&&d(1),n[0]=e[t++],n[1]=e[t++],n[2]=e[t++],n[3]=e[t++],(n[0]!=2||n[1]!=2||(n[2]<<8|n[3])!=i)&&d(3,"bad rgbe scanline format");let H=0,w;for(;H<l&&t<e.byteLength;){w=e[t++];const _=w>128;if(_&&(w-=128),(w===0||H+w>l)&&d(3,"bad scanline data"),_){const y=e[t++];for(let ie=0;ie<w;ie++)S[H++]=y}else S.set(e.subarray(t,t+w),H),H+=w,t+=w}const be=i;for(let _=0;_<be;_++){let y=0;c[s]=S[_+y],y+=i,c[s+1]=S[_+y],y+=i,c[s+2]=S[_+y],y+=i,c[s+3]=S[_+y],s+=4}re--}return c},Me=function(e,o,a,i){const c=e[o+3],s=Math.pow(2,c-128)/255;a[i+0]=e[o+0]*s,a[i+1]=e[o+1]*s,a[i+2]=e[o+2]*s,a[i+3]=1},Re=function(e,o,a,i){const c=e[o+3],s=Math.pow(2,c-128)/255;a[i+0]=U.toHalfFloat(Math.min(e[o+0]*s,65504)),a[i+1]=U.toHalfFloat(Math.min(e[o+1]*s,65504)),a[i+2]=U.toHalfFloat(Math.min(e[o+2]*s,65504)),a[i+3]=U.toHalfFloat(1)},C=new Uint8Array(R);C.pos=0;const D=xe(C),ae=D.width,ne=D.height,N=Ee(C.subarray(C.pos),ae,ne);let Y,$,L;switch(this.type){case X:L=N.length/4;const e=new Float32Array(L*4);for(let a=0;a<L;a++)Me(N,a*4,e,a*4);Y=e,$=X;break;case j:L=N.length/4;const o=new Uint16Array(L*4);for(let a=0;a<L;a++)Re(N,a*4,o,a*4);Y=o,$=j;break;default:throw new Error("THREE.RGBELoader: Unsupported type: "+this.type)}return{width:ae,height:ne,data:Y,header:D.string,gamma:D.gamma,exposure:D.exposure,type:$}}setDataType(R){return this.type=R,this}load(R,q,Q,Z){function ee(d,te){switch(d.type){case X:case j:d.colorSpace=Le,d.minFilter=se,d.magFilter=se,d.generateMipmaps=!1,d.flipY=!0;break}q&&q(d,te)}return super.load(R,ee,Q,Z)}}const G=new Se,me=document.querySelector("canvas.webgl"),E=new Te,Ze=new Je,x=new fe(Ze),V=x.load("/textures/door/color.jpg"),et=x.load("/textures/door/alpha.jpg"),tt=x.load("/textures/door/height.jpg"),ot=x.load("/textures/door/normal.jpg"),at=x.load("/textures/door/ambientOcclusion.jpg"),nt=x.load("/textures/door/metalness.jpg"),rt=x.load("/textures/door/roughness.jpg"),he=x.load("/textures/matcaps/8.png"),W=x.load("/textures/gradients/3.jpg");V.colorSpace=ce;he.colorSpace=ce;V.magFilter=J;const p=new Be;p.position.x=1.5;p.position.y=0;p.position.z=1;p.scale.y=1;p.rotation.y=0;E.add(p);const it=new Ae(1,1),v=new Fe;v.map=V;v.transparent=!0;v.opacity=.7;const st=new u(it,v),T=st;T.position.x=0;T.position.y=1;T.position.z=1;p.add(T);const ct=new le(.65,32,16),ge=new Ie;ge.flatShading=!0;const lt=new u(ct,ge),b=lt;b.position.x=1;b.position.y=1;b.position.z=1;b.position.x=-2;p.add(b);const dt=new ke(.5,.2,16,50),we=new ze;we.matcap=he;const pt=new u(dt,we),f=pt;f.position.y=1;f.position.z=1;f.position.x=2;p.add(f);const mt=new de(.5,1,32),ht=new De,gt=new u(mt,ht),B=gt;B.position.x=2;B.position.y=3;B.position.z=1;p.add(B);const wt=new He(2);E.add(wt);const _t=new Pe(.5,.5,1,20),yt=new ve,ut=new u(_t,yt),A=ut;A.position.x=0;A.position.y=3;A.position.z=1;p.add(A);const xt=new pe(.5,.25,4,8),K=new Ce;K.shininess=80;K.specular=new Ne(1149183);const Et=new u(xt,K),F=Et;F.position.x=-2;F.position.y=3;F.position.z=1;p.add(F);const Mt=new pe(.5,.25,4,8),Rt=new je,bt=new u(Mt,Rt);W.minFilter=J;W.magFilter=J;W.generateMipmaps=!1;v.gradientMap=W;const I=bt;I.position.x=2;I.position.y=5;I.position.z=1;p.add(I);const Gt=new le(.65,64,64),m=new Ue;m.metalness=1;m.roughness=1;m.map=V;m.aoMap=at;m.aoMapIntensity=1;m.displacementMap=tt;m.displacementScale=.05;m.metalnessMap=nt;m.roughnessMap=rt;m.normalMap=ot;m.normalScale.set(.5,.5);m.alphaMap=et;G.add(m,"metalness").min(0).max(1).step(1e-4);G.add(m,"roughness").min(0).max(1).step(1e-4);const Lt=new u(Gt,m),k=Lt;k.position.x=0;k.position.y=5;k.position.z=1;p.add(k);const St=new de(.5,1,32),h=new Ve;h.metalness=0;h.roughness=0;G.add(h,"metalness").min(0).max(1).step(1e-4);G.add(h,"roughness").min(0).max(1).step(1e-4);h.transmission=1;h.ior=1.5;h.thickness=.5;G.add(h,"transmission").min(0).max(1).step(1e-4);G.add(h,"ior").min(1).max(10).step(1e-4);G.add(h,"thickness").min(1).max(1).step(1e-4);const Tt=new u(St,h),z=Tt;z.position.x=-2;z.position.y=5;z.position.z=1;p.add(z);const ft=new We(16777215,1);E.add(ft);const O=new Oe(16777215,30);O.position.x=7;O.position.y=7;O.position.z=4;E.add(O);const Bt=new Qe;Bt.load("/textures/environmentMap/2k.hdr",r=>{r.mapping=qe,E.background=r,E.environment=r});const g={width:window.innerWidth,height:window.innerHeight};window.addEventListener("resize",()=>{g.width=window.innerWidth,g.height=window.innerHeight,M.aspect=g.width/g.height,M.updateProjectionMatrix(),P.setSize(g.width,g.height),P.setPixelRatio(Math.min(window.devicePixelRatio,2))});const M=new Ye(75,g.width/g.height,.1,100);M.position.x=3;M.position.y=5;M.position.z=9;E.add(M);const _e=new $e(M,me);_e.enableDamping=!0;const P=new Xe({canvas:me});P.setSize(g.width,g.height);P.setPixelRatio(Math.min(window.devicePixelRatio,2));const At=new Ke,ye=()=>{const r=At.getElapsedTime();T.rotation.y=.1*r,b.rotation.y=.1*r,f.rotation.y=.1*r,B.rotation.y=.1*r,A.rotation.y=.1*r,F.rotation.y=.1*r,I.rotation.y=.1*r,k.rotation.y=.1*r,z.rotation.y=.1*r,T.rotation.x=-.15*r,b.rotation.x=-.15*r,f.rotation.x=-.15*r,B.rotation.x=-.15*r,A.rotation.x=-.15*r,F.rotation.x=-.15*r,I.rotation.x=-.15*r,k.rotation.x=-.15*r,z.rotation.x=-.15*r,_e.update(),P.render(E,M),window.requestAnimationFrame(ye)};ye();
